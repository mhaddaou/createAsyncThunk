{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst JSON_PLACEHOLDER_API = \"https://jsonplaceholder.typicode.com/posts\";\nconst initialState = {\n  loading: false,\n  error: null,\n  data: []\n};\nexport const getPosts = createAsyncThunk('posts/getPosts', async (data, thunkApi) => {\n  try {\n    const res = await axios.get(JSON_PLACEHOLDER_API);\n    console.log(res.data);\n    return res.data;\n  } catch (e) {\n    return thunkApi.rejectWithValue(e.message);\n  }\n});\n\n//slice method\n\nconst postSlice = createSlice({\n  name: 'post',\n  initialState,\n  reducers: {},\n  extraReducers(builder) {\n    builder.addCase(getPosts.pending, () => {\n      return {\n        ...initialState,\n        loading: true\n      };\n    }).addCase(getPosts.fulfilled, (state, action) => {\n      state.loading = false;\n      state.data = action.payload;\n    }).addCase(getPosts.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    });\n  }\n});\nexport default postSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","JSON_PLACEHOLDER_API","initialState","loading","error","data","getPosts","thunkApi","res","get","console","log","e","rejectWithValue","message","postSlice","name","reducers","extraReducers","builder","addCase","pending","fulfilled","state","action","payload","rejected","reducer"],"sources":["/goinfre/mhaddaou/app/src/postSlice.ts"],"sourcesContent":["import { createSlice , createAsyncThunk, PayloadAction} from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst JSON_PLACEHOLDER_API = \"https://jsonplaceholder.typicode.com/posts\"\ninterface Post{\n    userId : number;\n    id : number;\n    title : string;\n    body : string\n}\ninterface PostState {\n    loading : boolean,\n    error : null | string,\n    data : Post[],\n}\n\nconst initialState = {\n    loading : false,\n    error : null,\n    data : [],\n}\n\nexport const getPosts = createAsyncThunk('posts/getPosts', async (data, thunkApi) =>{\n    try{\n        const res = await axios.get<Post[]>(JSON_PLACEHOLDER_API)\n        console.log(res.data)\n        return res.data;\n\n    }catch(e : any){\n        return thunkApi.rejectWithValue(e.message);\n    }\n})\n\n//slice method\n\nconst postSlice = createSlice({\n    name : 'post',\n    initialState,\n    reducers : {},\n    extraReducers (builder) {\n        builder.addCase(getPosts.pending, ()=>{\n            return {\n              ...initialState,\n                loading : true,\n            }\n        })\n        .addCase(getPosts.fulfilled, (state : PostState, action : PayloadAction<Post[]>) =>{\n            state.loading = false;\n            state.data = action.payload;\n        })\n        .addCase(getPosts.rejected, (state, action : PayloadAction<any> ) =>{\n            state.loading = false;\n            state.error = action.payload;\n        })\n    }\n\n})\n\nexport default postSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,EAAGC,gBAAgB,QAAsB,kBAAkB;AAC/E,OAAOC,KAAK,MAAM,OAAO;AACzB,MAAMC,oBAAoB,GAAG,4CAA4C;AAazE,MAAMC,YAAY,GAAG;EACjBC,OAAO,EAAG,KAAK;EACfC,KAAK,EAAG,IAAI;EACZC,IAAI,EAAG;AACX,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAGP,gBAAgB,CAAC,gBAAgB,EAAE,OAAOM,IAAI,EAAEE,QAAQ,KAAI;EAChF,IAAG;IACC,MAAMC,GAAG,GAAG,MAAMR,KAAK,CAACS,GAAG,CAASR,oBAAoB,CAAC;IACzDS,OAAO,CAACC,GAAG,CAACH,GAAG,CAACH,IAAI,CAAC;IACrB,OAAOG,GAAG,CAACH,IAAI;EAEnB,CAAC,QAAMO,CAAO,EAAC;IACX,OAAOL,QAAQ,CAACM,eAAe,CAACD,CAAC,CAACE,OAAO,CAAC;EAC9C;AACJ,CAAC,CAAC;;AAEF;;AAEA,MAAMC,SAAS,GAAGjB,WAAW,CAAC;EAC1BkB,IAAI,EAAG,MAAM;EACbd,YAAY;EACZe,QAAQ,EAAG,CAAC,CAAC;EACbC,aAAaA,CAAEC,OAAO,EAAE;IACpBA,OAAO,CAACC,OAAO,CAACd,QAAQ,CAACe,OAAO,EAAE,MAAI;MAClC,OAAO;QACL,GAAGnB,YAAY;QACbC,OAAO,EAAG;MACd,CAAC;IACL,CAAC,CAAC,CACDiB,OAAO,CAACd,QAAQ,CAACgB,SAAS,EAAE,CAACC,KAAiB,EAAEC,MAA8B,KAAI;MAC/ED,KAAK,CAACpB,OAAO,GAAG,KAAK;MACrBoB,KAAK,CAAClB,IAAI,GAAGmB,MAAM,CAACC,OAAO;IAC/B,CAAC,CAAC,CACDL,OAAO,CAACd,QAAQ,CAACoB,QAAQ,EAAE,CAACH,KAAK,EAAEC,MAA2B,KAAK;MAChED,KAAK,CAACpB,OAAO,GAAG,KAAK;MACrBoB,KAAK,CAACnB,KAAK,GAAGoB,MAAM,CAACC,OAAO;IAChC,CAAC,CAAC;EACN;AAEJ,CAAC,CAAC;AAEF,eAAeV,SAAS,CAACY,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}